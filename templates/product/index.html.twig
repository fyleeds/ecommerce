{% extends 'base.html.twig' %}

{% block stylesheets %}
    {{ encore_entry_link_tags('product') }}
{% endblock %}

{% block body %}

<header class="header">
  <div class="logo-section">
    <!-- Remplacez 'logo.png' par le chemin de votre image de logo r√©elle -->
    <a href="{{ path('homepage') }}">
      <img src="{{ asset('img/logo.png') }}" alt="Amiishop Logo">
    </a>
    <span>Amiishop</span>  
  </div>
  <div class="search-section">
    <input type="search" placeholder="Rechercher">
    <button type="submit">üîç</button>
  </div>
  <div class="user-section">
    <!-- Ici, ajoutez vos ic√¥nes utilisateur et panier, vous pouvez utiliser des images ou des ic√¥nes de polices -->
    <a href="{{ path('cart_index') }}">
      <!-- Ins√©rez le chemin de votre image √† la place de "chemin/vers/votre/image.jpg" -->
      <img src="{{ asset('img/sac.png') }}" alt="Votre image" class="utilisateur"/>
    </a>
    <a href="{{ path('my_account_index') }}">
      <!-- Ins√©rez le chemin de votre image √† la place de "chemin/vers/votre/image.jpg" -->
      <img src="{{ asset('img/utilisateur.png') }}" alt="Votre image" class="sac"/>
    </a>
  </div>
</header>


<div class="main-content">
    <!-- Image du produit √† gauche -->
    <img src="{{ product.attachment }}" alt="{{ product.title }}" class="product-image">
    
    <!-- Section contenant les d√©tails du produit √† droite -->
    <div class="login-section">
        <div class="product-details">
            <h3>{{ product.title }}</h3>
            <p><strong>Description :</strong> {{ product.content }}</p>
            <p><strong>Prix :</strong> {{ product.price|number_format(2, ',', ' ') }}‚Ç¨</p>
            <p><strong>En Stock :</strong> {{ product.stock.quantity }}</p>
            <p><strong>Date de Sortie :</strong> {{ product.createdAt|date('d/m/Y') }}</p>
            <p><strong>Nom de l'Auteur :</strong> {{ product.author.username }}</p>
            <p><strong>S√©rie :</strong> {{ product.category.name }}</p>
            <p><strong>Type :</strong> {{ product.type }}</p>
            <p><strong>Character :</strong> {{ product.gameCharacter }}</p>

            {% if product.author.id == user_id %}
              <div class="info_admin">
                <a href="{{ path('edit_product', {id: product.id}) }}" class="btn">Editer produit</a>
                <a href="{{ path('homepage') }}" class="btn">Retourner √† la page principale</a>
              </div>
            {% else %}
                {# <hr> #}
              <div class="info">
                <a href="{{ path('account_user_index', {id: product.author.id}) }}" class="btn">Info auteur</a>
                <a href="{{ path('cart_add', {id: product.id}) }}" class="btn">Ajouter au panier</a>
                {# <a href="{{ path('homepage') }}" class="btn">Retourner √† la page principale</a> #}
              </div>
                {# <hr> #}

            {% endif %}
        </div>
    </div>
</div>



    {# <h2>D√©tails du Produit</h2> #}

    {% if product %}
        <div class="product">
            {# {{dump(product)}} #}
            {# <h3>{{ product.title }}</h3>
            <img src="{{ product.attachment }}" alt="{{ product.title }}">
            <p><strong>Description :</strong> {{ product.content }}</p>
            <p><strong>Prix :</strong> {{ product.price|number_format(2, ',', ' ') }}‚Ç¨</p>
            <p><strong> En Stock :</strong> {{ product.stock.quantity }}</p>
            <p><strong>Date de Sortie :</strong> {{ product.createdAt|date('d/m/Y')}}</p>
            <p><strong>Nom de l'Auteur :</strong> {{ product.author.username }}</p>
            <p><strong>S√©rie :</strong> {{ product.category.name }}</p>
            <p><strong>Type: {{ product.type }}<strong></p>
            <p><strong>Character: {{ product.gameCharacter}}<strong></p> #}

            {% if product.author.id == user_id %}
            {# <a href="{{ path('edit_product',{id:product.id}) }}">Editer produit</a> #}
            {# <a href="{{ path('homepage') }}">retourner page principale</a> #}
            {% else %}
            {# <hr> #}
            {# <a href="{{ path('account_user_index',{id:product.author.id}) }}">Info auteur</a> #}
            {# <a href="{{ path('cart_add',{id:product.id}) }}">Ajouter au panier</a> #}
            {# <a href="{{ path('homepage') }}">Retourner page principale</a> #}
            {# <hr> #}
            {% endif %}
            
        </div>
    {% else %}
        <p>Aucun produit trouv√©.</p>
    {% endif %}
{% endblock %}

